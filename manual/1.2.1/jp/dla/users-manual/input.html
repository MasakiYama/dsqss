
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>5.1. DLA の入力ファイル &#8212; DSQSS 1.2.0 ドキュメント</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="5.2. DLA の入力ファイル生成ツール" href="generator.html" />
    <link rel="prev" title="5. DSQSS/DLAのユーザーマニュアル" href="index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="dla">
<span id="sec-dla-input"></span><h1>5.1. DLA の入力ファイル<a class="headerlink" href="#dla" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="id1">
<h2>5.1.1. 入力ファイル一覧<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>qmc.inp</td>
<td>モンテカルロの繰り返し回数など,計算制御のためのパラメータファイル.</td>
</tr>
<tr class="row-even"><td>lattice.xml</td>
<td>格子の定義ファイル.</td>
</tr>
<tr class="row-odd"><td>algorithm.xml</td>
<td>アルゴリズム（ワームの散乱確率など）の定義ファイル.</td>
</tr>
<tr class="row-even"><td>sf.xml</td>
<td>構造因子の波数定義ファイル.</td>
</tr>
<tr class="row-odd"><td>cf.xml</td>
<td>実空間温度グリーン関数の座標定義ファイル.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="qmc-inp">
<h2>5.1.2. パラメータファイル <code class="docutils literal notranslate"><span class="pre">qmc.inp</span></code><a class="headerlink" href="#qmc-inp" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>パラメータファイルは次に示すような書式のプレーンテキストファイルです.</p>
<ul class="simple">
<li>1行あたり1パラメータを, <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span> <span class="pre">=</span> <span class="pre">&lt;value&gt;</span></code> という形式で表します.</li>
<li>ファイル名以外は大文字小文字を区別しません.</li>
<li>空行,空白は無視されます.</li>
<li>&quot;#&quot; から行末まではコメントとして無視されます.</li>
</ul>
<p>パラメータのリストと意味を以下に示します.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">パラメータ名</th>
<th class="head">型</th>
<th class="head">デフォルト値</th>
<th class="head">説明</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>beta</td>
<td>double</td>
<td>--</td>
<td>逆温度. lattice.xml での指定を上書きする.</td>
</tr>
<tr class="row-odd"><td>npre</td>
<td>int</td>
<td>1000</td>
<td>モンテカルロスイープ中のワーム対生成回数を求める事前計算のためのモンテカルロ試行回数.</td>
</tr>
<tr class="row-even"><td>ntherm</td>
<td>int</td>
<td>1000</td>
<td>熱平衡化のためのモンテカルロスイープ数.</td>
</tr>
<tr class="row-odd"><td>ndecor</td>
<td>int</td>
<td>1000</td>
<td>セット間の自己相関を取り除くためのモンテカルロスイープ数.</td>
</tr>
<tr class="row-even"><td>nmcs</td>
<td>int</td>
<td>1000</td>
<td>物理量計算のためのモンテカルロスイープ数.</td>
</tr>
<tr class="row-odd"><td>nset</td>
<td>int</td>
<td>10</td>
<td>モンテカルロ計算の繰り返し数.</td>
</tr>
<tr class="row-even"><td>simulationtime</td>
<td>int</td>
<td>0.0</td>
<td>計算時間（単位は秒）. 詳細は後述.</td>
</tr>
<tr class="row-odd"><td>seed</td>
<td>int</td>
<td>198212240</td>
<td>疑似乱数の種.</td>
</tr>
<tr class="row-even"><td>nvermax</td>
<td>int</td>
<td>10000</td>
<td>最大バーテックス数.</td>
</tr>
<tr class="row-odd"><td>nsegmax</td>
<td>int</td>
<td>10000</td>
<td>最大セグメント数.</td>
</tr>
<tr class="row-even"><td>algfile</td>
<td>int</td>
<td>algorithm.xml</td>
<td>アルゴリズム定義ファイル名.</td>
</tr>
<tr class="row-odd"><td>latfile</td>
<td>string</td>
<td>lattice.xml</td>
<td>格子定義ファイル名.</td>
</tr>
<tr class="row-even"><td>sfinpfile</td>
<td>string</td>
<td>--</td>
<td>構造因子定義ファイル名. 空文字列の場合, 構造因子は計算されない.</td>
</tr>
<tr class="row-odd"><td>cfinpfile</td>
<td>string</td>
<td>--</td>
<td>実空間表示温度グリーン関数定義ファイル名. 空文字列の場合, 実空間表示温度グリーン関数は計算されない.</td>
</tr>
<tr class="row-even"><td>ckinpfile</td>
<td>string</td>
<td>--</td>
<td>波数空間表示温度グリーン関数定義ファイル名. 空文字列の場合, 波数空間表示温度グリーン関数は計算されない.</td>
</tr>
<tr class="row-odd"><td>outfile</td>
<td>string</td>
<td>sample.log</td>
<td>メイン出力ファイル名.</td>
</tr>
<tr class="row-even"><td>sfoutfile</td>
<td>string</td>
<td>sf.dat</td>
<td>構造因子出力ファイル名.</td>
</tr>
<tr class="row-odd"><td>cfoutfile</td>
<td>string</td>
<td>cf.dat</td>
<td>実空間表示温度グリーン関数出力ファイル名.</td>
</tr>
<tr class="row-even"><td>ckoutfile</td>
<td>string</td>
<td>ck.dat</td>
<td>波数空間表示温度グリーン関数出力ファイル名.</td>
</tr>
<tr class="row-odd"><td>runtype</td>
<td>int</td>
<td>0</td>
<td>計算手法. &quot;互換性および将来の拡張のために用意されている.&quot;</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>simulationtime について<ul>
<li>simulationtime &gt; 0.0 のとき<ul>
<li>指定秒数が経過するか, 計算が完了したとき, 途中経過をチェックポイントファイルに書き出した後, プログラムを終了します.</li>
<li>計算開始時にチェックポイントファイルがある場合, そのファイルを読み込んだ後に計算を再開します.</li>
<li>チェックポイントファイルの名前は outfile で指定されるメイン出力ファイル名の末尾に .cjob をつけたものです.</li>
</ul>
</li>
<li>simulationtime &lt;= 0.0 のとき<ul>
<li>チェックポイントファイルは無視され, 書き出しも読み込みも行われません.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="lattice-xml">
<h2>5.1.3. 格子定義ファイル <code class="docutils literal notranslate"><span class="pre">lattice.xml</span></code><a class="headerlink" href="#lattice-xml" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>格子ファイルは時空間の情報, たとえばサイトの数やサイト同士のつながりかた, 逆温度の大きさなどを定義するための,
XML ライクな形式で記述されるテキストファイルです.
これは一般に複雑になりえるので, 正方格子などのよく使われる格子については,
格子定義ファイル作成のための補助ツール <code class="docutils literal notranslate"><span class="pre">lattgene</span></code> が用意されています.</p>
<p>格子ファイルはただ一つの要素 Lattice を持ち, すべての情報は Lattice 要素の内容として含まれます.</p>
<dl class="docutils">
<dt>Lattice</dt>
<dd>ファイル全体の要素.
ほかのすべての要素は Lattice のサブ要素です.</dd>
<dt>Lattice/Comment</dt>
<dd>省略可能. コメント文を示し, 計算には使用されません.</dd>
<dt>Lattice/Dimension</dt>
<dd>格子の次元.</dd>
<dt>Lattice/Beta</dt>
<dd>逆温度. パラメータファイルでの指定が優先されます.</dd>
<dt>Lattice/LinearSize</dt>
<dd><p class="first">ユニットセルを単位とした, 各次元の格子の長さ.
内容として, スペース区切りの正整数を Lattice/Dimension で指定した数だけ並べたものをとります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;LinearSize&gt; 3 4 &lt;/LinearSize&gt;
# ユニットセルが第1次元方向に3個, 第2次元方向に4個並んでいる場合
</pre></div>
</div>
</dd>
<dt>Lattice/NumberOfCells</dt>
<dd>ユニットセルの総数. LinearSize で指定した各次元方向のサイズの積.</dd>
<dt>Lattice/NumberOfSites</dt>
<dd>サイトの総数. ユニットセルの総数と1セル内のサイト数の積.</dd>
<dt>Lattice/NumberOfInteractions</dt>
<dd>相互作用項の総数. 二体相互作用のみの場合は,いわゆる「ボンド数」.</dd>
<dt>Lattice/NumberOfSiteTypes</dt>
<dd>サイトの種類数.</dd>
<dt>Lattice/NumberOfInteractionTypes</dt>
<dd>相互作用の種類数.</dd>
<dt>Lattice/BondDimension</dt>
<dd>Winding number を測定する際に定義する要素.</dd>
<dt>Lattice/NumberOfEdgeInteractions</dt>
<dd>Winding number を測定する際に定義する要素. 格子の周期的境界をまたぐボンドの総数を指定します.</dd>
<dt>Lattice/S</dt>
<dd><p class="first">サイト情報. Lattice/NumberOfSites で指定したサイト数だけ指定する必要があります.
内容として, 「サイト番号」, 「サイトタイプ」, 「測定タイプ」の3つの整数をスペース区切りで持ちます.
サイトタイプの詳細は別途アルゴリズム定義ファイルの中で定義します.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;S&gt; 3 0 1 &lt;/S&gt;
# サイト番号が3のサイトはサイトタイプが0で, 測定タイプは1である.
</pre></div>
</div>
</dd>
<dt>Lattice/I</dt>
<dd><p class="first">相互作用情報. Lattice/NumberOfInteractions で指定した相互作用数だけ指定する必要があります.
内容として, 「相互作用番号」, 「相互作用タイプ」, 「相互作用サイト数」, 「相互作用サイト番号」を指定するために,
相互作用サイト数+3個の整数をスペース区切りで持ちます.
相互作用タイプの詳細 ― たとえば相互作用の大きさ ― は別途アルゴリズム定義ファイルの中で定義します.
サイト番号の順序は, アルゴリズム定義ファイルの Algorithm/Vertex/InitialConfiguration 要素で用いられるサイトの並び順と整合させる必要があります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;I&gt; 5 1 2 8 12 &lt;/I&gt;
# 相互作用番号が5である相互作用は相互作用タイプが1で, 2つのサイトが関与し,
# それらのサイト番号は8と12である.
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="algorithm-xml">
<h2>5.1.4. アルゴリズム定義ファイル <code class="docutils literal notranslate"><span class="pre">algorithm.xml</span></code><a class="headerlink" href="#algorithm-xml" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>アルゴリズム定義ファイルは相互作用ごとのワームの散乱確率などを定義する,
XML ライクな形式で記述されるテキストファイルです.
これは一般に複雑になりえるので, より簡単なハミルトニアン定義ファイルから自動生成するためのツール <code class="docutils literal notranslate"><span class="pre">dla_alg</span></code> が用意されています.</p>
<p>アルゴリズム定義ファイルはただ一つの要素 Algorithm を持ち, すべての情報は Algorithm 要素の内容として含まれます.</p>
<dl class="docutils">
<dt>Algorithm</dt>
<dd>ファイル全体の要素名.サブ要素として,  General,  Site,  Interaction,  Vertex があります.
ワームの生成・消滅・散乱の仕方を定義します.</dd>
<dt>Algorithm/Comment</dt>
<dd>省略可能. コメント文を示し, 計算には使用されません.</dd>
<dt>Algorithm/General</dt>
<dd><p class="first">サブ要素として,  NSType,  NIType,  NVType,  NXMax,  WDiag があります.
サイトの種類数や相互作用の種類数など, アルゴリズム定義の基本パラメータを設定します.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Algorithm&gt;
  &lt;General&gt;
    &lt;NSType&gt;  1 &lt;/NSType&gt;
    &lt;NIType&gt;  1 &lt;/NIType&gt;
    &lt;NVType&gt;  2 &lt;/NVType&gt;
    &lt;NXMax&gt;   2 &lt;/NXMax&gt;
    &lt;WDiag&gt;   0.25 &lt;/WDiag&gt;
  &lt;/General&gt;
  ...
&lt;/Algorithm&gt;
</pre></div>
</div>
</dd>
<dt>Algorithm/General/NSType</dt>
<dd>異なるサイト型の個数を指定する整数値.</dd>
<dt>Algorithm/General/NIType</dt>
<dd>異なる相互作用型の個数を指定する整数値.</dd>
<dt>Algorithm/General/NVType</dt>
<dd>異なるバーテックス型の個数を指定する整数値.</dd>
<dt>Algorithm/General/NXMax</dt>
<dd>各サイトが取りうる状態の数の最大値.
例えば大きさ <span class="math notranslate nohighlight">\(S\)</span> のスピン系ならば <span class="math notranslate nohighlight">\(2S+1\)</span> .</dd>
<dt>Algorithm/General/WDiag</dt>
<dd>ユーザが改変する measure_specific.cc 以外では用いられないので, その中で使われない場合には指定する必要はありません.
（標準の measure_specific.cc では, ワームの行程長から相関関数を求めるときの比例係数として用いられています.
この量に興味がない場合は, 任意の数を指定してください.）</dd>
<dt>Algorithm/Site</dt>
<dd><p class="first">1つのサイト型を定義します.具体的には, そのサイト型をもつサイトに対する操作を定義します.
サイトにワームを生成消滅する過程もここで定義します.
サブ要素として,  SType,  NumberOfStates,  VertexTypeOfSource,  InitialConfiguration があります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Algorithm&gt;
  ...
  &lt;Site&gt;
    &lt;STYPE&gt; 0 &lt;/STYPE&gt;
    &lt;NumberOfStates&gt; 2 &lt;/NumberOfStates&gt;
    &lt;VertexTypeOfSource&gt; 0 &lt;/VertexTypeOfSource&gt;
    &lt;InitialConfiguration&gt;
       ...
    &lt;/InitialConfiguration&gt;
    &lt;InitialConfiguration&gt;
       ...
    &lt;/InitialConfiguration&gt;
  &lt;/Site&gt;
  ...
&lt;/Algorithm&gt;
</pre></div>
</div>
</dd>
<dt>Algorithm/Site/SType</dt>
<dd>定義されるサイト型の識別番号.</dd>
<dt>Algorithm/Site/NumberOfStates</dt>
<dd>サイトが取りうる状態の数.</dd>
<dt>Algorithm/Site/VertexTypeOfSource</dt>
<dd>挿入される可能性のあるバーテックスのタイプ.</dd>
<dt>Algorithm/Site/InitialConfiguration</dt>
<dd><p class="first">初期条件の定義. 初期条件ごとのワーム対の生成消滅過程を定義もこの要素のなかで行われます.
サブ要素として, State, NumberOfChannels, Channel があります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Algorithm&gt;
  ...
  &lt;Site&gt;
    ...
    &lt;InitialConfiguration&gt;
      &lt;State&gt; 0 &lt;/State&gt;
      &lt;NumberOfChannels&gt; 2 &lt;/NumberOfChannels&gt;
      &lt;Channel&gt; 0 1 0.5 &lt;/Channel&gt;
      &lt;Channel&gt; 1 1 0.5 &lt;/Channel&gt;
    &lt;/InitialConfiguration&gt;
    ...
  &lt;/Site&gt;
  ...
&lt;/Algorithm&gt;
</pre></div>
</div>
</dd>
<dt>Algorithm/Site/InitialConfiguration/State</dt>
<dd>ワーム対が生成される前（もしくは消滅後）のサイトの状態.</dd>
<dt>Algorithm/Site/InitialConfiguration/NumberOfChannels</dt>
<dd>可能性のある終状態（チャネル）の数.</dd>
<dt>Algorithm/Site/InitialConfiguration/Channel</dt>
<dd><p class="first">各チャネルの定義. 整数値, 整数値, 浮動小数点値の3つの並びで指定.</p>
<ul class="simple">
<li>第1の値はワーム生成後のヘッドの向き（0は虚時間方向負の向き, 1は正の向き.）.</li>
<li>第2の値はワーム生成後のヘッドとテールの間の状態.</li>
<li>第3の値はそのような終状態をとる確率.</li>
</ul>
<p class="last">終状態としてワーム対を生成しない場合は, その Channel の 第1と第2の整数値はともに -1とする.</p>
</dd>
<dt>Algorithm/Interaction</dt>
<dd><p class="first">１つの相互作用型を定義します.
サブ要素として IType, VType, NBody, EBase, VertexDensity があります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Algorithm&gt;
  ...
  &lt;Interaction&gt;
    &lt;IType&gt; 0 &lt;/IType&gt;
    &lt;VType&gt; 1 &lt;/VType&gt;
    &lt;NBody&gt; 2 &lt;/NBody&gt;
    &lt;EBase&gt; 0.125 &lt;/EBase&gt;
    &lt;VertexDensity&gt; 0 0 0.25 &lt;/VertexDensity&gt;
    &lt;VertexDensity&gt; 1 1 0.25 &lt;/VertexDensity&gt;
  &lt;/Interaction&gt;
  ...
&lt;/Algorithm&gt;
</pre></div>
</div>
</dd>
<dt>Algorithm/Interaction/IType</dt>
<dd>相互作用の型の識別番号.</dd>
<dt>Algorithm/Interaction/VType</dt>
<dd>挿入する可能性のあるバーテックスの型の識別番号. バーテックス型の内容は Vertex/Algorithm で定義します.</dd>
<dt>Algorihtn/Interaction/NBody</dt>
<dd>相互作用に関与するサイトの数（ゼーマン項のような1体相互作用であれば1 で, 交換相互作用のような2体相互作用であれば2. 3以上を指定することも可能）.</dd>
<dt>Algorithm/Interaction/EBase</dt>
<dd>エネルギーオフセットの値. シミュレーション自体には影響しませんが, 最終的なエネルギーの値を出すときに使用されます.</dd>
<dt>Algorithm/Interaction/VertexDensity</dt>
<dd>関与するサイトの状態ごとに挿入するバーテックスの密度を指定します.
Algorithm/Interaction/NBody 個の整数値と, 1個の浮動小数点値の並びで指定.
整数値は, 関与する各サイトの状態（順序は格子定義ファイルの I で指定するサイト番号の順序と対応します）.
浮動小数点値は密度.</dd>
<dt>Algorithm/Vertex</dt>
<dd><p class="first">1つのバーテックスの型を定義します. バーテックスとしては, 通常の2体, 3体, ……の相互作用を記述するもの（ <code class="docutils literal notranslate"><span class="pre">VCategory=2</span></code> ）と,
ワームヘッドがテールと消滅する場合のテール（ <code class="docutils literal notranslate"><span class="pre">VCategory=1</span></code> ）があります.
Algorithm/Interaction の要素になりえるのは, 前者です.
（このほか, 時間方向の周期境界（ <code class="docutils literal notranslate"><span class="pre">VCategory=0</span></code> ）も1体のバーテックスとして扱っていますが, これをユーザが定義する必要はありません.）
サブ要素として VType,  VCategory,  NBody,  NumberOfInitialConfigurations,  InitialConfiguration があります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Algorithm&gt;
  ...
  &lt;Vertex&gt;
    &lt;VTYPE&gt; 0 &lt;/VTYPE&gt;
    &lt;VCATEGORY&gt; 1 &lt;/VCATEGORY&gt;
    &lt;NBODY&gt; 1 &lt;/NBODY&gt;
    &lt;NumberOfInitialConfigurations&gt; 4 &lt;/NumberOfInitialConfigurations&gt;
    &lt;InitialConfiguration&gt;
      ...
    &lt;/InitialConfiguration&gt;
    ...
    &lt;InitialConfiguration&gt;
      ...
    &lt;/InitialConfiguration&gt;
  &lt;/Vertex&gt;
  ...
&lt;/Algorithm&gt;
</pre></div>
</div>
</dd>
<dt>Algorithm/Vertex/VType</dt>
<dd>バーテックス型の識別番号. バーテックス型の定義ごとに異なる番号である必要があります.</dd>
<dt>Algorithm/Vertex/VCategory</dt>
<dd>1がワームテール, 2が相互作用.</dd>
<dt>Algorithm/Vertex/NBody</dt>
<dd>相互作用に関与するサイトの個数.
テールの場合には1.</dd>
<dt>Algorithm/Vertex/NumberOfInitialConfigurations</dt>
<dd>バーテックスの可能な初期状態数.</dd>
<dt>Algorithm/Vertex/InitialConfiguration</dt>
<dd><p class="first">特定のバーテックス初期状態に対するワームの可能なアクションを定義します.
従って, この要素は, Algorithm/Vertex/NumberOfInitialConfigurations の値と同じ数だけ存在する必要があります.
サブ要素として,  State,  IncomingDirection,  NewState,  NumberOfChannels,  Channel があります.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Algorithm&gt;
  ...
  &lt;Vertex&gt;
    ...
    &lt;InitialConfiguration&gt;
      &lt;State&gt;  1 0 0 1 &lt;/State&gt;
      &lt;IncomingDirection&gt; 0 &lt;/IncomingDirection&gt;
      &lt;NewState&gt; 0 &lt;/NewState&gt;
      &lt;NumberOfChannels&gt; 1 &lt;/NumberOfChannels&gt;
      &lt;Channel&gt;    3    0       1.0000000000000000 &lt;/Channel&gt;
    &lt;/InitialConfiguration&gt;
    ...
  &lt;/Vertex&gt;
  ...
&lt;/Algorithm&gt;
</pre></div>
</div>
<p class="last">この例で定義されているのは, 「バーテックスの左下(0), 左上(1), 右下(2), 右上(3)の脚の状態がそれぞれ1, 0, 0, 1 であって, そこに, 左下（脚0の方向）から, その脚の状態を 0 に変化させるような ワームヘッドが入射した場合」のアクションであり,
その内容は,  「確率1で, そのワームヘッドを 脚3の方向に散乱させて,  その方向の足の状態を 0 に変更する」ことを表しています. （つまり, この散乱が起こった場合, 散乱後のバーテックスの状態は 0, 0, 0, 0 になる.）</p>
</dd>
<dt>Algorithm/Vertex/InitialConfiguration/State</dt>
<dd>ワームヘッドが入ってくる前のバーテックスの初期状態を指定します.
具体的にはバーテックスの各脚の状態を指定します.
足の本数は,  Algorithm/Vertex/NBody で指定される数 (=m) の2倍なので,  2m 個数の整数値をスペースで区切ったものを入力します.
その順序として, 脚は対応するサイトの順序に並べられ,
同じサイトに対応する2本の脚については, 虚数時間の小さい側が先に来ます.
（サイトの並び順は任意でよいが,  格子定義ファイルの Lattice/I 要素で 指定されているサイトの並び順はここで用いられたサイトの順序と整合している必要があります.）
各整数はバーテックスの足の状態を示す 0 から n-1 までの値. （ここで, n は対応するサイトの,  Algorithm/Site/NumberOfStates で指定される値.）</dd>
<dt>Algorithm/Vertex/InitialConfiguration/IncomingDirection</dt>
<dd>入射するワームヘッドが入射前に乗っている脚の番号.
対応する足が Algorithm/Vertex/InitialConfiguration/State の記述において何番目に出てくるかを 0 から 2m-1 の整数値で指定.</dd>
<dt>Algorithm/Vertex/InitialConfiguration/NewState</dt>
<dd>ワームヘッドが通過したあとの Algorithm/Vertex/InitialConfiguration/IncomingDirection の足の状態. 0 から n-1 の整数値で指定.</dd>
<dt>Algorithm/Vertex/InitialConfiguration/NumberOfChannels</dt>
<dd>可能な散乱チャネルの個数.</dd>
<dt>Algorithm/Vertex/InitialConfiguration/Channel</dt>
<dd><p class="first">散乱チャネルの定義.
Algorithm/Vertex/InitialConfiguration/NumberOfChannels の個数だけこの要素を用意する必要があります.
2つの整数値と1つの浮動小数点値をスペースで区切ったもので指定.</p>
<ul class="simple">
<li>第1の整数値は, 散乱後のワームヘッドが乗っている足の番号を 0 から 2m-1 の値で指定したもの.</li>
<li>第2の整数値は, ワームヘッドが飛び去ったあとのその足の状態を 0 から n-1 の値で指定したもの.</li>
<li>第3の浮動小数点値は, そのチャネルを選ぶ確率.</li>
</ul>
<p class="last">特別な場合として, ワームヘッドがテールに衝突して消滅する場合があり, この場合は 第1引数と第2引数に -1 を指定します.</p>
</dd>
</dl>
</div>
<div class="section" id="hamiltonian-xml">
<h2>5.1.5. ハミルトニアン定義ファイル <code class="docutils literal notranslate"><span class="pre">hamiltonian.xml</span></code><a class="headerlink" href="#hamiltonian-xml" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ハミルトニアン定義ファイルは局所ハミルトニアン, 例えばボンドハミルトニアン, を指定する,
XML ライクな形式で記述されるテキストファイルです.
<code class="docutils literal notranslate"><span class="pre">dla_alg</span></code> の入力として, アルゴリズム定義ファイルを作成するために用いる補助入力ファイルとなっています.
ハイゼンベルグ模型などのよく用いられる模型については,
補助ツール <code class="docutils literal notranslate"><span class="pre">hamgen_H</span></code>, <code class="docutils literal notranslate"><span class="pre">hamgen_B</span></code> が用意されています.</p>
<p>ハミルトニアン定義ファイルはただ一つの要素 Hamiltonian を持ち, すべての情報は Hamiltonian 要素の内容として含まれます.</p>
<dl class="docutils">
<dt>Hamiltonian</dt>
<dd>ファイル全体の要素名. サブ要素として,  General,  Site,  Source, Interaction があります.
局所ハミルトニアンを定義します.</dd>
<dt>Hamiltonian/General</dt>
<dd><p class="first">サブ要素として,  NSTYPE,  NITYPE,  NXMAX, Comment があります.
サイトの種類数や相互作用の種類数など, ハミルトニアン定義の基本パラメータを設定します.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Hamiltonian&gt;
   &lt;General&gt;
     &lt;Comment&gt; SU(2) Heisenberg model with S=1/2 &lt;/Comment&gt;
     &lt;NSTYPE&gt; 1 &lt;/NSTYPE&gt;
     &lt;NITYPE&gt; 1 &lt;/NITYPE&gt;
     &lt;NXMAX&gt;  2 &lt;/NXMAX&gt;
   &lt;/General&gt;
  ...
&lt;/Hamiltonian&gt;
</pre></div>
</div>
</dd>
<dt>Hamiltonian/General/Comment</dt>
<dd>省略可能. コメント文を示し, 計算には使用されません.</dd>
<dt>Hamiltonian/General/NSTYPE</dt>
<dd>異なるサイト型の個数を指定する整数値.</dd>
<dt>Hamiltonian/General/NITYPE</dt>
<dd>異なる相互作用型の個数を指定する整数値.</dd>
<dt>Hamiltonian/General/NXMAX</dt>
<dd>各サイトが取りうる状態の数の最大値.
例えば大きさ <span class="math notranslate nohighlight">\(S\)</span> のスピン系ならば <span class="math notranslate nohighlight">\(2S+1\)</span> .</dd>
<dt>Hamiltonian/Site</dt>
<dd><p class="first">1つのサイト型を定義します.具体的には, このサイトの状態数などを指定します.
サブ要素として,  STYPE,  TTYPE,  NX があります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Hamiltonian&gt;
  ...
  &lt;Site&gt;
    &lt;STYPE&gt; 0 &lt;/STYPE&gt;
    &lt;TTYPE&gt; 0 &lt;/TTYPE&gt;
    &lt;NX&gt;   2 &lt;/NX&gt;
  &lt;/Site&gt;
  ...
&lt;/Hamiltonian&gt;
</pre></div>
</div>
</dd>
<dt>Hamiltonian/Site/STYPE</dt>
<dd>定義されるサイト型の識別番号.</dd>
<dt>Hamiltonian/Site/TTYPE</dt>
<dd>定義されるサイト型における, Hamiltonian/Source で記述される ワームの生成・消滅演算の識別番号.</dd>
<dt>Hamiltonian/Site/NX</dt>
<dd>サイトが取りうる状態の数.</dd>
<dt>Hamiltonian/Source</dt>
<dd><p class="first">1つのソース型, つまり、ワームの生成・消滅演算を定義します.
サブ要素として, TTYPE, STYPE, Weight があります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Source&gt;
  &lt;TTYPE&gt; 0 &lt;/TTYPE&gt;
  &lt;STYPE&gt; 0 &lt;/STYPE&gt;
  &lt;Weight&gt; 0 1       0.5000000000000000 &lt;/Weight&gt;
  &lt;Weight&gt; 1 0       0.5000000000000000 &lt;/Weight&gt;
&lt;/Source&gt;
</pre></div>
</div>
</dd>
<dt>Hamiltonian/Source/TTYPE</dt>
<dd>定義されるソース型の識別番号.</dd>
<dt>Hamiltonian/Source/STYPE</dt>
<dd>定義されるソース型が適用されるサイト型の識別番号.</dd>
<dt>Hamiltonian/Source/Weight</dt>
<dd>生成・消滅演算子の重み.
2個の整数値と1個の浮動小数点数の組み合わせで指定.
2個の整数はそれぞれ演算子を適用する前と後の状態を示す状態番号で,
浮動小数点数は行列要素.
たとえば, <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">1</span> <span class="pre">0.5</span></code> は <span class="math notranslate nohighlight">\(\langle 1 | \mathcal{H} | 0 \rangle = 0.5\)</span> を示します.</dd>
<dt>Hamiltonian/Interaction</dt>
<dd><p class="first">1つの相互作用型を定義します.
サブ要素として ITYPE, STYPE, NBODY, Weight があります.</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Hamiltonian&gt;
  ...
  &lt;Interaction&gt;
    &lt;ITYPE&gt; 0 &lt;/ITYPE&gt;
    &lt;NBODY&gt; 2 &lt;/NBODY&gt;
    &lt;STYPE&gt; 0 0 &lt;/STYPE&gt;
    &lt;Weight&gt; 0 0 0 0      -0.2500000000000000 &lt;/Weight&gt;
    &lt;Weight&gt; 1 1 0 0       0.2500000000000000 &lt;/Weight&gt;
    &lt;Weight&gt; 1 0 0 1       0.5000000000000000 &lt;/Weight&gt;
    &lt;Weight&gt; 0 1 1 0       0.5000000000000000 &lt;/Weight&gt;
    &lt;Weight&gt; 0 0 1 1       0.2500000000000000 &lt;/Weight&gt;
    &lt;Weight&gt; 1 1 1 1      -0.2500000000000000 &lt;/Weight&gt;
  &lt;/Interaction&gt;
  ...
&lt;/Hamiltonian&gt;
</pre></div>
</div>
</dd>
<dt>Hamiltonian/Interaction/ITYPE</dt>
<dd>相互作用の型の識別番号.</dd>
<dt>Algorihtn/Interaction/NBODY</dt>
<dd>相互作用に関与するサイトの数（ゼーマン項のような1体相互作用であれば1 で, 交換相互作用のような2体相互作用であれば2. 3以上を指定することも可能）.</dd>
<dt>Hamiltonian/Interaction/ITYPE</dt>
<dd>相互作用が適用されるサイト型の識別番号.
NBODY 個の整数値で指定します.</dd>
<dt>Hamiltonian/Interaction/Weight</dt>
<dd><p class="first">局所ハミルトニアンの行列要素を指定します.
<span class="math notranslate nohighlight">\(2\times\)</span> NBODY 個の整数値と, 1個の浮動小数点値の並びで指定.
整数値は, 関与する各サイトのそれぞれについて, 相互作用演算子が適用される前と後の状態で,
浮動小数点値は行列要素の大きさ.
ただし, 対角成分の場合には -1 をかけて, 非対角成分の場合は, 絶対値を取ります <a class="footnote-reference" href="#fn-reweighting" id="id2">[1]</a>.</p>
<p class="last">たとえば, <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">0.25</span></code> は <span class="math notranslate nohighlight">\(\langle 0 1 | \mathcal{H} | 0 1 \rangle = -0.25\)</span> を,
<code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">0</span> <span class="pre">0.5</span></code> は <span class="math notranslate nohighlight">\(\left| \langle 1 0 | \mathcal{H} | 0 1 \rangle \right| = 0.5\)</span> を示します.</p>
</dd>
</dl>
</div>
<div class="section" id="sf-xml">
<h2>5.1.6. 構造因子定義ファイル <code class="docutils literal notranslate"><span class="pre">sf.xml</span></code><a class="headerlink" href="#sf-xml" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>構造因子定義ファイルは, 動的構造因子</p>
<div class="math notranslate nohighlight">
\[S^{zz}(\vec{k},\tau) \equiv
  \left\langle M^z(\vec{k},\tau)M^z(-\vec{k},0) \right\rangle - \left\langle M^z(\vec{k},\tau)\right\rangle \left\langle M^z(-\vec{k},0)\right\rangle\]</div>
<p>を計算するための波数や虚時間刻みの情報がXML ライクな形式で記述されるテキストファイルです.
構造因子定義ファイル作成のための補助ツール <code class="docutils literal notranslate"><span class="pre">sfgene</span></code> が用意されています.</p>
<p>格子ファイルはただ一つの要素 StructureFactor を持ち, すべての情報は StructureFactor 要素の内容として含まれます.</p>
<dl class="docutils">
<dt>StructureFactor</dt>
<dd>ファイル全体の要素名.
サブ要素として, Ntau, NumberOfElements, CutoffOfNtau, NumberOfInverseLattice, SF があります.</dd>
<dt>StructureFactor/Comment</dt>
<dd>省略可能.
コメント文を示し, 計算には使用されません.</dd>
<dt>StructureFactor/Ntau</dt>
<dd>虚時間軸の分割数.</dd>
<dt>StructureFactor/CutoffOfNtau</dt>
<dd>動的構造因子の虚時間引数 <span class="math notranslate nohighlight">\(\tau\)</span> の最大値.
StructureFactor/Ntau 以下の整数で指定します.</dd>
<dt>StructureFactor/NumberOfInverseLattice</dt>
<dd>波数 <span class="math notranslate nohighlight">\(\vec{k}\)</span> の数.</dd>
<dt>StructureFactor/NumberOfElements</dt>
<dd>波数と座標の組み合わせの総数.
StructureFactor/NumberOfInverseLattice と Lattice/NumberOfSites の積.</dd>
<dt>StructureFactor/SF</dt>
<dd>内積 <span class="math notranslate nohighlight">\(\vec{r}\cdot\vec{k}\)</span> の情報.
StructureFactor/NumberOfElements で指定した数だけ指定する必要があります.
内容として,
「 <span class="math notranslate nohighlight">\(\cos(\theta)\)</span> の値」,
「 <span class="math notranslate nohighlight">\(\sin(\theta)\)</span> の値」,
「サイト番号」,
「波数番号」 の4つの数字をスペース区切りで持ちます.
ここで <span class="math notranslate nohighlight">\(\theta\)</span> はサイト番号で示されるサイトの座標 <span class="math notranslate nohighlight">\(\vec{r}\)</span> と波数番号で示される波数 <span class="math notranslate nohighlight">\(\vec{k}\)</span> との内積です.</dd>
</dl>
</div>
<div class="section" id="cf-xml">
<h2>5.1.7. 実空間表示温度グリーン関数定義ファイル <code class="docutils literal notranslate"><span class="pre">cf.xml</span></code><a class="headerlink" href="#cf-xml" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>実空間表示温度グリーン関数定義ファイルは,実空間表示温度グリーン関数</p>
<div class="math notranslate nohighlight">
\[G(\vec{r}_{ij},\tau) \equiv \left\langle M_i^+(\tau) M_j^- \right\rangle\]</div>
<p>を計算するための相対座標 <span class="math notranslate nohighlight">\(\vec{r}_{ij}\)</span> の情報がXML ライクな形式で記述されるテキストファイルです.
実空間表示温度グリーン関数定義ファイル作成のための補助ツール <code class="docutils literal notranslate"><span class="pre">cfgene</span></code> が用意されています.</p>
<p>格子ファイルはただ一つの要素 CorrelationFunction を持ち, すべての情報は CorrelationFunction 要素の内容として含まれます.</p>
<dl class="docutils">
<dt>CorrelationFunction</dt>
<dd>ファイル全体の要素名.サブ要素として, Ntau, NumberOfKinds, CF があります.</dd>
<dt>CorrelationFunction/Comment</dt>
<dd>省略可能.
コメント文を示し, 計算には使用されません.</dd>
<dt>CorrelationFunction/Ntau</dt>
<dd>虚時間軸の分割数.</dd>
<dt>CorrelationFunction/NumberOfKinds</dt>
<dd>取りうる相対座標の数.</dd>
<dt>CorrelationFunction/CF</dt>
<dd>CorrelationFunction/NumberOfKinds で指定した数だけ指定する必要があります.
内容として,
「相対座標のインデックス」, 「サイト i のインデックス」, 「サイト j のインデックス」 の3つの整数をスペース区切りで持ちます.</dd>
</dl>
</div>
<div class="section" id="ck-xml">
<h2>5.1.8. 波数表示温度グリーン関数定義ファイル <code class="docutils literal notranslate"><span class="pre">ck.xml</span></code><a class="headerlink" href="#ck-xml" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>波数表示温度グリーン関数定義ファイルは,波数表示温度グリーン関数</p>
<div class="math notranslate nohighlight">
\[G(\vec{k},\tau) \equiv \left\langle M^+(\vec{k}, \tau) M^-(-\vec{k},0) \right\rangle\]</div>
<p>を計算するための波数や虚時間刻みの情報がXML ライクな形式で記述されるテキストファイルです.</p>
<p>要素名を含めて, 動的構造因子定義ファイルと全く同じ構造を持つため, 流用が可能です.</p>
<p class="rubric">脚注</p>
<table class="docutils footnote" frame="void" id="fn-reweighting" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>これは, DSQSS/DLA は「絶対値系」を計算することを意味しています.
DSQSS v2 では, 符号リウェイティングを実装することで, この制限を取り除くことが予定されています.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/title_logo.png" alt="Logo"/>
    
  </a>
</p>








<h3>ナビゲーション</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../dsqss/about_dsqss.html">1. DSQSSとは？</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dsqss/install.html">2. インストール</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dsqss/usage.html">3. 使用方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">4. DLAのチュートリアル</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">5. DSQSS/DLAのユーザーマニュアル</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">5.1. DLA の入力ファイル</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">5.1.1. 入力ファイル一覧</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qmc-inp">5.1.2. パラメータファイル <code class="docutils literal notranslate"><span class="pre">qmc.inp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lattice-xml">5.1.3. 格子定義ファイル <code class="docutils literal notranslate"><span class="pre">lattice.xml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#algorithm-xml">5.1.4. アルゴリズム定義ファイル <code class="docutils literal notranslate"><span class="pre">algorithm.xml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#hamiltonian-xml">5.1.5. ハミルトニアン定義ファイル <code class="docutils literal notranslate"><span class="pre">hamiltonian.xml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sf-xml">5.1.6. 構造因子定義ファイル <code class="docutils literal notranslate"><span class="pre">sf.xml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cf-xml">5.1.7. 実空間表示温度グリーン関数定義ファイル <code class="docutils literal notranslate"><span class="pre">cf.xml</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#ck-xml">5.1.8. 波数表示温度グリーン関数定義ファイル <code class="docutils literal notranslate"><span class="pre">ck.xml</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="generator.html">5.2. DLA の入力ファイル生成ツール</a></li>
<li class="toctree-l2"><a class="reference internal" href="engine.html">5.3. 向き付きループアルゴリズムソルバ dla_H, dla_B</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">5.4. DLA の出力ファイル</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pmwa/tutorial/tutorial.html">6. DSQSS/PMWAのチュートリアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pmwa/tutorial/tu-index.html">7. DSQSS/PMWAのユーザーマニュアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dsqss/algorithm.html">8. アルゴリズム</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="index.html">5. DSQSS/DLAのユーザーマニュアル</a><ul>
      <li>Previous: <a href="index.html" title="前の章へ">5. DSQSS/DLAのユーザーマニュアル</a></li>
      <li>Next: <a href="generator.html" title="次の章へ">5.2. DLA の入力ファイル生成ツール</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, DSQSS developers.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/dla/users-manual/input.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>